{"version":3,"file":"static/webpack/5.2f717d3097599bfa4989.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import { Component } from 'react'\r\nimport { Carousel, Image } from 'components'\r\nimport Axios from 'axios'\r\n\r\ninterface IState {\r\n    lists: any[]\r\n    selected: number\r\n}\r\n\r\nexport default class Index extends Component<any, any> {\r\n\r\n    public state: IState = {\r\n        lists: [],\r\n        selected: 0\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        const { lists, selected } = this.state\r\n        return (\r\n            <Carousel autoplay selected={selected} time={5000} style={{ width: '100vw', height: '100vh' }} dots={false} >\r\n                {\r\n                    lists.map((i: any, index: number) => {\r\n                        return (\r\n                            <div style={{ position: 'relative', width: '100%', height: '100%' }} key={index}>\r\n                                <Image src={'http://www.snplay.top:8080/' + i.url} style={{ width: 'auto', height: '100%', display: 'block', margin: '0 auto' }} />\r\n                                <div className=\"flex_center\" style={{ position: 'absolute', height: '70px', width: '100%', bottom: 0, left: 0, background: 'rgba(0,0,0,0.5)', fontSize: '20px', color: '#fff' }}>CN: {i.msg}</div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </Carousel>\r\n        )\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.getData()\r\n    }\r\n\r\n    private getData = async () => {\r\n        Axios({\r\n            // url: 'http://www.snplay.top:8080/fs/getimages',\r\n            url: 'http://localhost:4000/api/fs/getimages',\r\n            method: 'POST'\r\n        }).then((data) => {\r\n            this.setState({\r\n                lists: data.data.data\r\n            })\r\n        })\r\n        this.reload()\r\n    }\r\n\r\n    private reload = () => {\r\n        setInterval(() => {\r\n            Axios({\r\n                // url: 'http://www.snplay.top:8080/fs/getimages',\r\n                url: 'http://localhost:4000/api/fs/getimages',\r\n                method: 'POST'\r\n            }).then((data) => {\r\n                const { lists } = this.state\r\n                if (lists.length !== data.data.data.length) {\r\n                    const newData = data.data.data.filter((i: any) => {\r\n                        const val = lists.find((k) => {\r\n                            return i.id === k.id\r\n                        })\r\n                        return val ? false : true\r\n                    })\r\n                    const length = lists.length - 1\r\n                    this.setState({\r\n                        lists: [\r\n                            ...lists,\r\n                            ...newData,\r\n                        ],\r\n                        selected: length\r\n                    })\r\n                }\r\n            })\r\n        }, 3000)\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAMA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAFA;AACA;;;;;AA0BA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AALA;AAOA;AACA;AACA;AACA;AACA;;;;;;AA9DA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;;;AAEA;AACA;AACA;;;;AA3BA;AACA;;;;;A","sourceRoot":""}