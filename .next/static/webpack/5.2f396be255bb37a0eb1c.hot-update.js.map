{"version":3,"file":"static/webpack/5.2f396be255bb37a0eb1c.hot-update.js","sources":["webpack:///./components/lib/Pagination/index.tsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { getClassName, prefix } from '../utils'\r\nimport Button from '../Button';\r\nimport Icon from '../Icon';\r\nimport { isFunction } from 'muka';\r\n\r\nexport interface IPaginationProps {\r\n    className?: string\r\n    current: number\r\n    total: number\r\n    defaultCurrent?: number\r\n    pageSizeOptions?: number[]\r\n    pageSize?: number\r\n    disabled?: boolean\r\n    onChange?: (current: number) => void\r\n}\r\n\r\ninterface IState {\r\n    pageSize: number\r\n}\r\n\r\nconst prefixClass = 'pagination'\r\n\r\nexport default class Pagination extends Component<IPaginationProps, IState> {\r\n\r\n    constructor(props: IPaginationProps) {\r\n        super(props)\r\n        this.state.pageSize = props.pageSize || 10\r\n    }\r\n\r\n    public static defaultProps: IPaginationProps = {\r\n        pageSizeOptions: [10, 20, 30],\r\n        current: 1,\r\n        total: 10\r\n    }\r\n\r\n    public state: IState = {\r\n        pageSize: 10\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: IPaginationProps) {\r\n        const { pageSize } = this.state\r\n        if (nextProps.pageSize && nextProps.pageSize !== pageSize) {\r\n            this.setState({\r\n                pageSize: nextProps.pageSize\r\n            })\r\n        }\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        const { className, current, total } = this.props\r\n        const { pageSize } = this.state\r\n        const num = Math.ceil(total / pageSize)\r\n        return (\r\n            <div className={getClassName(`${prefixClass}`, className)}>\r\n                <Button className={getClassName(`${prefixClass}_btn`)} disabled={current === 1 ? true : false}>\r\n                    <Icon icon=\"ios-arrow-back\" fontSize=\"18px\" color={current === 1 ? '#d9d9d9' : 'rgba(0, 0, 0, 0.65)'} />\r\n                </Button>\r\n                {\r\n                    Array.from(new Array(num)).map((i: any, index: number) => {\r\n                        if (num > 7) {\r\n                            if (index + 1 === 1) {\r\n                                return (\r\n                                    <Button\r\n                                        className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                        key={index}\r\n                                        onClick={this.handleChange.bind(this, index + 1)}\r\n                                    >\r\n                                        {index + 1}\r\n                                    </Button>\r\n                                )\r\n                            } else if (index + 1 === num) {\r\n                                return (\r\n                                    <Button\r\n                                        className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                        key={index}\r\n                                        onClick={this.handleChange.bind(this, index + 1)}\r\n                                    >\r\n                                        {index + 1}\r\n                                    </Button>\r\n                                )\r\n                            } else if (current === 1) {\r\n                                if (index + 1 < current + 5) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                            onClick={this.handleChange.bind(this, index + 1)}\r\n                                        >\r\n                                            {index + 1}\r\n                                        </Button>\r\n                                    )\r\n                                } else if (index + 1 === current + 6) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn ${prefix}notline`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                        >\r\n                                            <Icon icon=\"ios-more\" fontSize=\"18px\" color=\"rgba(0, 0, 0, 0.65)\" />\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                            } else if (current === num) {\r\n                                if (index + 1 >= num - 5) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                            onClick={this.handleChange.bind(this, index + 1)}\r\n                                        >\r\n                                            {index + 1}\r\n                                        </Button>\r\n                                    )\r\n                                } else if (index + 1 === current - 6) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn ${prefix}notline`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                        >\r\n                                            <Icon icon=\"ios-more\" fontSize=\"18px\" color=\"rgba(0, 0, 0, 0.65)\" />\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                            } else {\r\n                                if(current === 2 || current === num - 1) {\r\n                                    if (Math.abs(current - (index + 1)) === 5) {\r\n                                        return (\r\n                                            <Button\r\n                                                className={getClassName(`${prefixClass}_btn ${prefix}notline`, current === index + 1 ? prefix + 'select' : '')}\r\n                                                key={index}\r\n                                            >\r\n                                                <Icon icon=\"ios-more\" fontSize=\"18px\" color=\"rgba(0, 0, 0, 0.65)\" />\r\n                                            </Button>\r\n                                        )\r\n                                    }\r\n                                }\r\n                                if (current <= 3 && index + 1 <= 5) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                            onClick={this.handleChange.bind(this, index + 1)}\r\n                                        >\r\n                                            {index + 1}\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                                if (current >= num - 3 && index + 1 >= num - 5) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                            onClick={this.handleChange.bind(this, index + 1)}\r\n                                        >\r\n                                            {index + 1}\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                                if (Math.abs(current - (index + 1)) === 3) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn ${prefix}notline`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                        >\r\n                                            <Icon icon=\"ios-more\" fontSize=\"18px\" color=\"rgba(0, 0, 0, 0.65)\" />\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                                if (Math.abs(current - (index + 1)) <= 2) {\r\n                                    return (\r\n                                        <Button\r\n                                            className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                            key={index}\r\n                                            onClick={this.handleChange.bind(this, index + 1)}\r\n                                        >\r\n                                            {index + 1}\r\n                                        </Button>\r\n                                    )\r\n                                }\r\n                                // if (current === index + 1) {\r\n                                //     return (\r\n                                //         <Button\r\n                                //             className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                //             key={index}\r\n                                //             onClick={this.handleChange.bind(this, index + 1)}\r\n                                //         >\r\n                                //             {index + 1}\r\n                                //         </Button>\r\n                                //     )\r\n                                // }\r\n                                // if (current === 2 && index + 1 === 5) {\r\n                                //     return (\r\n                                //         <Button\r\n                                //             className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')}\r\n                                //             key={index}\r\n                                //             onClick={this.handleChange.bind(this, index + 1)}\r\n                                //         >\r\n                                //             {index + 1}\r\n                                //         </Button>\r\n                                //     )\r\n                                // }\r\n                            }\r\n                        } else {\r\n                            return (\r\n                                <Button className={getClassName(`${prefixClass}_btn`, current === index + 1 ? prefix + 'select' : '')} key={index}>{index + 1}</Button>\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n                <Button className={getClassName(`${prefixClass}_btn`)} disabled={current === num ? true : false}>\r\n                    <Icon icon=\"ios-arrow-forward\" fontSize=\"18px\" color={current === num ? '#d9d9d9' : 'rgba(0, 0, 0, 0.65)'} />\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private handleChange = (index: number) => {\r\n        const { onChange, current } = this.props\r\n        if (index === current) return\r\n        if (isFunction(onChange)) {\r\n            onChange(index)\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAkBA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAYA;AADA;AACA;AAZA;AA+LA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AApMA;AAFA;AAGA;AACA;;;AAWA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AACA;AAAA;AACA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAQA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;;;;AA/LA;AACA;AADA;AAQA;AACA;AACA;AAHA;AACA;;;;;A","sourceRoot":""}